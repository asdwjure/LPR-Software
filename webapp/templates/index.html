<!DOCTYPE html>
<html>
<style>
    table, th, td {
        border:1px solid black;
    }
    </style>
<head>
    <meta charset="UTF-8">
    <title>License Plate Recognition</title>
</head>

<body>

    <table style="width:75%">
        <tr>
            <th>Video stream</th>
            <th>Last detected plate</th>
        </tr>
        <tr>
            <td>
                <p>Last detected plate: <div id="my-div">{{ plate }}</div></p>
                <script>
                    // get a reference to the myDiv element
                    var myDiv = document.getElementById("my-div");
            
                    // update the content of myDiv every second
                    setInterval(function() {
                    // make a GET request to /get_plate to get the updated string value
                    fetch('/get_plate')
                        .then(response => response.text())
                        .then(data => myDiv.innerHTML = data);
                    }, 100);
                </script>

                <div>
                    <img src="{{ url_for('video') }}" width="50%"/>
                </div>
            </td>
            <!-- nov stolpec -->
            <td>
                <form action="#" method="POST">
                    <p><input type="text" name="plate_input" placeholder="Enter plate" /></p>
                    <p><input type="submit" name="submit" value="Add plate"/></p>
                </form>
            </td>
        </tr>
        
    </table>
        
</body>
</html>
